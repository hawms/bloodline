<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Produção Bloodline</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="background-animation"></div>

    <div id="details-modal" class="modal-overlay" onclick="fecharDetalhes(event)">
        <div class="modal-content">
            <button class="modal-close-btn" onclick="fecharDetalhes()">×</button>
            <div id="modal-body">
                </div>
        </div>
    </div>

    <div class="page-container">
        <div class="column-left">

            <div class="costs-section card">
                <h2>Custo das Matérias-Primas Básicas (Opcional)</h2>
                <div class="form-group-grid">
                    <div class="form-group">
                        <label for="custo-minerio_de_ferro">Minério de Ferro</label>
                        <input type="number" id="custo-minerio_de_ferro" value="8" min="0" oninput="atualizarExibicaoPedido()">
                    </div>
                    <div class="form-group">
                        <label for="custo-carvao">Carvão</label>
                        <input type="number" id="custo-carvao" value="8" min="0" oninput="atualizarExibicaoPedido()">
                    </div>
                     <div class="form-group">
                        <label for="custo-enxofre">Enxofre</label>
                        <input type="number" id="custo-enxofre" placeholder="Custo/un" min="0" oninput="atualizarExibicaoPedido()">
                    </div>
                    <div class="form-group">
                        <label for="custo-barra_de_cobre">Barra de Cobre</label>
                        <input type="number" id="custo-barra_de_cobre" value="120" min="0" oninput="atualizarExibicaoPedido()">
                    </div>
                    <div class="form-group">
                        <label for="custo-lingote_de_aluminio">Lingote de Alumínio</label>
                        <input type="number" id="custo-lingote_de_aluminio" value="120" min="0" oninput="atualizarExibicaoPedido()">
                    </div>
                </div>
            </div>

            <div class="builder-section card">
                <h2>Montar Pedido</h2>
                <div class="form-group">
                    <label for="ammo-select">1. Escolha a Munição:</label>
                    <select id="ammo-select">
                        <option value=".50">.50</option>
                        <option value=".45">.45</option>
                        <option value=".44">.44</option>
                        <option value="9mm">9mm</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="qtyProducao">2. Informe a quantidade de UNIDADES:</label>
                    <input type="number" id="qtyProducao" value="10" min="1">
                </div>
                <button id="add-to-order-button" onclick="adicionarAoPedido()">Adicionar ao Pedido</button>
            </div>

            <div class="current-order-section card">
                <h2>Pedido Atual</h2>
                <div id="current-order-items">
                    <p class="empty-cart-message">O pedido está vazio.</p>
                </div>
                <div id="current-order-summary"></div>
                <div class="finalize-order">
                    <div class="form-group">
                        <label for="client-name">Nome do Cliente:</label>
                        <input type="text" id="client-name" placeholder="Digite o nome para quem é o pedido">
                    </div>
                    <button id="save-button" onclick="salvarPedido()">Finalizar e Salvar Pedido</button>
                </div>
            </div>
        </div>

        <div class="column-right">
            <div class="history-section card">
                <h2>Pedidos Pendentes</h2>
                <div id="pending-orders-list" class="order-list">
                    <p>Carregando...</p>
                </div>
            </div>
            <div class="history-section card">
                <h2>Pedidos Entregues</h2>
                <div id="delivered-orders-list" class="order-list">
                    <p>Carregando...</p>
                </div>
                <button id="clear-button" onclick="limparHistorico()">Limpar Entregues</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script src="script.js"></script>

</body>
</html>